(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{547:function(r,t,n){"use strict";n.r(t);var c=n(41),a=Object(c.a)({},(function(){var r=this,t=r.$createElement,n=r._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[r._v("提示")]),r._v(" "),n("p",[r._v("关于 char*、char [] 与 string 的初始化及转换"),n("br"),r._v(" "),n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/110374182",target:"_blank",rel:"noopener noreferrer"}},[r._v("参考文章"),n("OutboundLink")],1)])]),r._v(" "),n("h2",{attrs:{id:"char-和-char-的初始化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#char-和-char-的初始化"}},[r._v("#")]),r._v(" char* 和 char [] 的初始化：")]),r._v(" "),n("p",[r._v("char* 是指向字符的指针，可以通过指针赋值或使用字符串字面值来初始化。"),n("br"),r._v("\nchar [] 是字符数组，可以通过字符串字面值或逐个字符赋值来初始化。"),n("br"),r._v("\n示例：")]),r._v(" "),n("p",[r._v("cpp"),n("br"),r._v("\nCopy code"),n("br"),r._v('\nchar* ptr = "Hello"; // 使用字符串字面值初始化 char*'),n("br"),r._v('\nchar arr [] = "World"; // 使用字符串字面值初始化 char []'),n("br"),r._v("\n string 和 char* 或 char [] 的转换：")]),r._v(" "),n("p",[r._v("string 可以通过构造函数或赋值运算符将 char* 或 char [] 转换为 string。"),n("br"),r._v("\nchar* 或 char [] 可以使用 c_str () 方法将其转换为 const char*，以便与接受 C 风格字符串的函数兼容。"),n("br"),r._v("\n示例：")]),r._v(" "),n("p",[r._v("cpp"),n("br"),r._v("\nCopy code"),n("br"),r._v('\nstring str = "Hello"; // 使用字符串字面值初始化 string'),n("br"),r._v("\nconst char* cstr = str.c_str (); // 转换为 const char*")]),r._v(" "),n("p",[r._v('string newStr = "World";'),n("br"),r._v("\nconst char* newCstr = newStr.c_str (); // 转换为 const char*")]),r._v(" "),n("p",[r._v('char arr[] = "Hello";'),n("br"),r._v("\nstring arrStr (arr); // 将字符数组转换为 string")]),r._v(" "),n("p",[r._v("char* ptr = new char[10];"),n("br"),r._v('\nstrcpy(ptr, "World");'),n("br"),r._v("\nstring ptrStr (ptr); // 将字符指针转换为 string")]),r._v(" "),n("p",[r._v("delete [] ptr; // 释放内存"),n("br"),r._v("\n注意字符串的结束符：")]),r._v(" "),n("p",[r._v("char [] 必须包含字符串结束符 '\\0'，否则会导致字符串操作函数无法正常工作。"),n("br"),r._v("\nstring 类型会自动处理字符串结束符，不需要手动添加。"),n("br"),r._v("\n示例：")]),r._v(" "),n("p",[r._v("cpp"),n("br"),r._v("\nCopy code"),n("br"),r._v("\nchar arr [] = \"Hello\"; // 包含 '\\0'"),n("br"),r._v("\nchar arr2 [] = {'H', 'e', 'l', 'l', 'o'}; // 不包含 '\\0'")]),r._v(" "),n("p",[r._v("string str = \"World\"; // 自动添加 '\\0'"),n("br"),r._v("\n 需要注意的是，在使用 char* 和 char [] 时，要确保正确处理内存分配和释放，以避免出现内存泄漏或访问非法内存的问题。另外，当转换为 string 时，要确保原始字符数组或指针所指向的内容是有效的，否则可能导致未定义行为。")])])}),[],!1,null,null,null);t.default=a.exports}}]);